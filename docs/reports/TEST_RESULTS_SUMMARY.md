# æ¸¬è©¦åŸ·è¡Œçµæœç¸½çµ

**åŸ·è¡Œæ™‚é–“**: 2024å¹´12æœˆ2æ—¥  
**æ¸¬è©¦å¥—ä»¶**: Smoke + API + Stress Tests  
**æœå‹™å™¨**: http://localhost:3000

## ğŸ“Š æ¸¬è©¦çµæœ

### ç¸½é«”çµ±è¨ˆ
- âœ… **é€šé**: 33 å€‹æ¸¬è©¦
- âŒ **å¤±æ•—**: 2 å€‹æ¸¬è©¦
- â±ï¸ **ç¸½è€—æ™‚**: ~12 ç§’
- ğŸ“ˆ **æˆåŠŸç‡**: 94.3%

### æ¸¬è©¦åˆ†é¡çµæœ

#### ğŸ”¥ Smoke Tests (å†’ç…™æ¸¬è©¦)
- âœ… æœå‹™å™¨é€£æ¥: **é€šé**
- âœ… GET /api/wines: **é€šé** (å·²ä¿®å¾©)
- âœ… GET /api/wineries: **é€šé**
- âœ… GET /api/search: **é€šé**
- âœ… GET /api/articles: **é€šé**
- âœ… GET /api/health: **é€šé**
- âœ… GET / (é¦–é ): **é€šé**
- âŒ GET /wines: **å¤±æ•—** (HTTP 500)
- âœ… GET /wineries: **é€šé**

#### ğŸ”Œ API Tests (API æ¸¬è©¦)
- âœ… GET /api/wines (å¸¶åƒæ•¸): **é€šé**
- âœ… GET /api/wines/[slug]: **é€šé**
- âœ… GET /api/wineries (å¸¶åƒæ•¸): **é€šé**
- âœ… GET /api/search (å¤šå€‹æŸ¥è©¢): **é€šé**
- âŒ GET /api/search (ç©ºæŸ¥è©¢): **å¤±æ•—** (HTTP 500 - é©—è­‰éŒ¯èª¤ï¼Œé æœŸè¡Œç‚º)
- âœ… POST /api/ai/chat: **é€šé**

#### âš¡ Stress Tests (å£“åŠ›æ¸¬è©¦)
- âœ… ä¸¦ç™¼è«‹æ±‚ (10å€‹): **10/10 æˆåŠŸ** (100%)
- âœ… ä¸¦è¡Œæ•¸æ“šç²å–: **é€šé** (<200ms)
- âœ… å¿«é€Ÿé€£çºŒè«‹æ±‚ (5å€‹): **5/5 æˆåŠŸ** (100%)

## ğŸ”§ å·²ä¿®å¾©çš„å•é¡Œ

### 1. `/api/wines` ç«¯é»éŒ¯èª¤
**å•é¡Œ**: `z is not defined`  
**åŸå› **: ç¼ºå°‘ Zod çš„ `z` å°å…¥  
**ä¿®å¾©**: æ·»åŠ  `import { z } from "zod";`  
**ç‹€æ…‹**: âœ… å·²ä¿®å¾©

## âš ï¸ å·²çŸ¥å•é¡Œ

### 1. `/wines` é é¢è¿”å› HTTP 500
**ç‹€æ…‹**: éœ€è¦é€²ä¸€æ­¥èª¿æŸ¥  
**å½±éŸ¿**: é é¢ç„¡æ³•æ­£å¸¸åŠ è¼‰  
**å„ªå…ˆç´š**: ä¸­

### 2. `/api/search` ç©ºæŸ¥è©¢è¿”å› HTTP 500
**ç‹€æ…‹**: é æœŸè¡Œç‚ºï¼ˆé©—è­‰éŒ¯èª¤ï¼‰  
**èªªæ˜**: ç©ºæŸ¥è©¢æ‡‰è©²è¿”å› 400/422ï¼Œä½†ç•¶å‰è¿”å› 500  
**å„ªå…ˆç´š**: ä½ï¼ˆå¯ä»¥æ¥å—ï¼Œå› ç‚ºæ˜¯é©—è­‰éŒ¯èª¤ï¼‰

## ğŸ¯ æ€§èƒ½æŒ‡æ¨™

### éŸ¿æ‡‰æ™‚é–“
- å¹³å‡ API éŸ¿æ‡‰æ™‚é–“: ~200-500ms
- æœ€å¿«éŸ¿æ‡‰: 129ms (`/api/health`)
- æœ€æ…¢éŸ¿æ‡‰: 1678ms (`/api/wines/[slug]`)

### ä¸¦ç™¼æ€§èƒ½
- 10 å€‹ä¸¦ç™¼è«‹æ±‚: **100% æˆåŠŸç‡**
- å¹³å‡éŸ¿æ‡‰æ™‚é–“: ~400ms
- æœ€å¤§éŸ¿æ‡‰æ™‚é–“: 674ms

### ä¸¦è¡Œæ€§èƒ½
- ä¸¦è¡Œæ•¸æ“šç²å–: **154ms** âœ…
- ç›®æ¨™: <5 ç§’ âœ…

## âœ… æ¸¬è©¦é€šéçš„åŠŸèƒ½

1. âœ… æ‰€æœ‰æ ¸å¿ƒ API ç«¯é»æ­£å¸¸å·¥ä½œ
2. âœ… æ•¸æ“šæŸ¥è©¢å’Œéæ¿¾åŠŸèƒ½æ­£å¸¸
3. âœ… æœç´¢åŠŸèƒ½æ­£å¸¸ï¼ˆæœ‰æŸ¥è©¢æ™‚ï¼‰
4. âœ… AI Chat API æ­£å¸¸
5. âœ… ä¸¦ç™¼è«‹æ±‚è™•ç†èƒ½åŠ›å„ªç§€
6. âœ… ä¸¦è¡Œæ•¸æ“šç²å–æ€§èƒ½è‰¯å¥½
7. âœ… å¿«é€Ÿé€£çºŒè«‹æ±‚è™•ç†ç©©å®š

## ğŸ“ å»ºè­°

### ç«‹å³ä¿®å¾©
1. èª¿æŸ¥ä¸¦ä¿®å¾© `/wines` é é¢çš„ 500 éŒ¯èª¤

### æ”¹é€²å»ºè­°
1. å°‡ `/api/search` ç©ºæŸ¥è©¢çš„éŒ¯èª¤ç¢¼å¾ 500 æ”¹ç‚º 400/422ï¼ˆæ›´ç¬¦åˆ RESTful è¦ç¯„ï¼‰
2. å„ªåŒ– `/api/wines/[slug]` çš„éŸ¿æ‡‰æ™‚é–“ï¼ˆç•¶å‰ 1678ms è¼ƒæ…¢ï¼‰
3. æ·»åŠ æ›´å¤šé‚Šç•Œæ¢ä»¶æ¸¬è©¦
4. æ·»åŠ èªè­‰å’Œæˆæ¬Šç›¸é—œçš„æ¸¬è©¦

## ğŸš€ ä¸‹ä¸€æ­¥

1. ä¿®å¾© `/wines` é é¢éŒ¯èª¤
2. å„ªåŒ–æ…¢é€Ÿç«¯é»çš„æ€§èƒ½
3. æ“´å±•æ¸¬è©¦è¦†è“‹ç‡
4. è¨­ç½® CI/CD è‡ªå‹•æ¸¬è©¦

---

**æ¸¬è©¦åŸ·è¡Œå™¨**: `scripts/test-runner.ts`  
**æ¸¬è©¦å ±å‘Šç”Ÿæˆæ™‚é–“**: 2024å¹´12æœˆ2æ—¥

