<!-- 19c6d55b-42dd-4b20-be26-253bde470418 1dac3509-f939-41ca-b765-326ef2fb24a8 -->
# ProWine 全面優化與功能完善計劃（使用所有MCP + AI API 完成全部任務）

## 任務1：優化品酩學堂和聯絡我們頁面

### 品酩學堂頁面優化（桌機10項 + 手機10項）

**桌機版優化：**

1. 增加文章閱讀進度條（頂部固定）
2. 添加文章收藏功能（本地存儲）
3. 實現文章分享功能（Facebook、LINE、複製連結）
4. 增加相關文章推薦區塊（基於分類和標籤）
5. 添加文章評論區（使用 Supabase）
6. 實現文章搜尋高亮顯示
7. 增加文章閱讀時間估算顯示
8. 添加文章目錄導航（長文章）
9. 實現文章標籤雲展示
10. 增加文章瀏覽量統計顯示

**手機版優化：**

1. 優化搜尋框觸控區域（最小44px）
2. 實現下拉刷新功能
3. 優化分類篩選按鈕（橫向滾動）
4. 增加文章卡片圖片懶加載
5. 優化文章列表間距和字體大小
6. 實現底部固定操作欄（收藏、分享）
7. 添加返回頂部按鈕（浮動）
8. 優化互動工具按鈕（風味輪盤、測驗）觸控體驗
9. 實現文章內容字體大小調整
10. 增加文章閱讀進度指示器（頂部）

### 聯絡我們頁面優化（桌機10項 + 手機10項）

**桌機版優化：**

1. 增加表單自動保存功能（本地存儲草稿）
2. 實現表單驗證即時提示（不等待提交）
3. 添加表單欄位智能填充（瀏覽器自動完成）
4. 增加表單提交成功動畫效果
5. 實現表單多步驟引導（3步驟）
6. 添加表單欄位幫助提示（問號圖標）
7. 增加表單提交進度條
8. 實現表單錯誤訊息詳細說明
9. 添加表單欄位字數統計
10. 增加表單提交後推薦操作（查看FAQ、加入LINE）

**手機版優化：**

1. 優化表單輸入框觸控區域（最小44px）
2. 實現表單自動聚焦下一個欄位
3. 優化表單選擇器（原生樣式）
4. 增加表單欄位標籤固定顯示
5. 實現表單提交按鈕固定底部
6. 添加表單欄位錯誤提示浮動顯示
7. 優化表單多步驟指示器（簡化版）
8. 實現表單欄位自動滾動到視圖
9. 增加表單提交載入動畫
10. 優化地圖顯示（全屏按鈕）

## 任務2：後台功能開發（各25%）

### 圖片管理（25%）

- 實現圖片列表展示（分頁、搜尋）
- 添加圖片上傳功能（單張/批量）
- 實現圖片預覽和刪除
- 添加圖片基本資訊顯示（尺寸、大小、格式）

**檔案：** `app/admin/images/page.tsx`, `app/api/admin/images/route.ts`

### 會員管理（25%）

- 實現會員列表展示（分頁、搜尋、篩選）
- 添加會員基本資訊顯示（姓名、Email、註冊時間）
- 實現會員狀態標籤（活躍、停用）
- 添加會員詳情查看（點擊查看）

**檔案：** `app/admin/users/page.tsx`, `app/api/admin/users/route.ts`

### 詢價單管理（25%）

- 實現詢價單列表展示（分頁、搜尋、狀態篩選）
- 添加詢價單基本資訊顯示（客戶、產品、時間）
- 實現詢價單狀態標籤（待處理、已回覆、已完成）
- 添加詢價單詳情查看（點擊查看）

**檔案：** `app/admin/orders/page.tsx`, `app/api/admin/orders/route.ts`

### 數據分析（25%）

- 實現基礎統計卡片（總瀏覽量、總詢價單、總會員）
- 添加簡單圖表展示（使用 Recharts）
- 實現數據時間範圍選擇（本週、本月、本年）
- 添加數據匯出功能（CSV格式）

**檔案：** `app/admin/analytics/page.tsx`, `app/api/admin/analytics/route.ts`

### Footer 後台登入連結

- 修改 `components/Footer.tsx`，將後台登入連結樣式改為正常（移除 `text-neutral-500`）

## 任務3：酒款詳細頁面完善

### 文案和介紹

- 使用 AI API 生成每個酒款的詳細介紹文案
- 包含：酒款故事、釀造工藝、風土特色、品飲建議
- 存儲到資料庫 `wines` 表的 `descriptionZh` 和 `storyZh` 欄位

### 酒莊連結功能

- 檢查 `app/wines/[slug]/page.tsx` 中的酒莊連結
- 確保連結正確指向 `/wineries/${winery.slug || winery.id}`
- 測試連結功能正常

**檔案：** `app/wines/[slug]/page.tsx`

## 任務4：酒莊詳細頁面完善

### 文案和介紹

- 使用 AI API 生成每個酒莊的詳細介紹文案
- 包含：酒莊歷史、釀酒哲學、風土條件、獲獎紀錄
- 存儲到資料庫 `wineries` 表的 `descriptionZh` 和 `storyZh` 欄位

### 真實官網鏈接

- 從資料庫讀取 `wineries` 表的 `website` 欄位
- 確保連結格式正確（自動添加 https://）
- 在頁面中顯示官方網站按鈕

**檔案：** `app/wineries/[slug]/page.tsx`

## 任務5：關於ProWine頁面優化

### 照片補充

- 使用 Unsplash API 或 Pexels API 搜尋相關高清照片
- 照片主題：葡萄酒、酒莊、團隊、辦公室、倉庫
- 更新 `components/BrandStoryPage.tsx` 中的圖片URL
- 確保所有圖片都是高清（至少1920px寬度）

### 文案優化

- 使用 AI API 優化現有文案
- 增加更多細節和故事性
- 確保文案符合品牌調性（專業、優雅、可信）

**檔案：** `components/BrandStoryPage.tsx`

## 任務6：手機版本優化（10項）

1. 優化所有頁面的觸控目標（最小44px）
2. 實現下拉刷新功能（主要列表頁）
3. 優化圖片載入（懶加載、佔位符）
4. 實現底部導航欄（主要頁面）
5. 優化表單輸入體驗（自動聚焦、鍵盤類型）
6. 增加頁面載入骨架屏
7. 優化字體大小和行距（可讀性）
8. 實現橫向滾動優化（分類、標籤）
9. 增加返回頂部按鈕（長頁面）
10. 優化錯誤提示顯示（Toast樣式）

## 任務7：資料補充（MANUS_WINE_LIST/NEW）

### 讀取資料

- 讀取 `C:\PROJECTS\PROWINE\MANUS_WINE_LIST\NEW\all_wines_list.json`
- 讀取 `C:\PROJECTS\PROWINE\MANUS_WINE_LIST\NEW\wines_sample_data.json`
- 讀取 `C:\PROJECTS\PROWINE\MANUS_WINE_LIST\NEW\ProWine 酩陽實業 - 完整酒莊與酒款資料清單.md`

### 執行補充

- **LOGO補充：** 使用網路搜尋或AI生成，為每個酒莊補充LOGO
- **文案補充：** 使用AI API生成每個酒款和酒莊的詳細介紹
- **PRICE補充：** 從資料清單中提取價格資訊，更新到資料庫
- **圖片補充：** 使用網路搜尋或AI生成，為每個酒款補充高清圖片

### 實作方式

- 建立腳本 `scripts/supplement-wine-data.ts`
- 批量處理所有酒款和酒莊資料
- 使用 Supabase API 更新資料庫 （還有CLOUDINARY！）

## 任務8：ngrok預覽工作流

### 偵測專案狀態

- 技術棧：Next.js 15（已確認）
- 開發伺服器指令：`npm run dev`（已確認）
- 預設監聽port：3000（需確認）

### 設計工作流

1. 建立 `docs/LOCAL_PREVIEW_NGROK.md` 文件
2. 建立 `scripts/start-ngrok.sh` 腳本（Windows用PowerShell版本）
3. 建立 `scripts/start-ngrok.ps1` PowerShell腳本
4. 說明文件包含：

- 目的說明
- 事前準備（ngrok安裝）
- 一般開發流程
- 預覽流程（給老婆/老闆）
- 常見問題排查

### 重要規則

- 重啟dev server時不關閉ngrok
- 不隨意更改dev server port
- 只針對前台預覽設計

### 技術報告

- 列出所有新增/修改的檔案
- 說明dev server port和啟動指令
- 提供簡短操作說明（給非工程背景）

## 執行順序

1. 任務8（ngrok工作流）- 獨立任務，可先完成
2. 任務2（後台功能）- 基礎功能，優先完成
3. 任務3和4（酒款/酒莊頁面）- 內容完善
4. 任務5（關於ProWine）- 內容優化
5. 任務1（頁面優化）- 體驗提升
6. 任務6（手機版優化）- 響應式優化
7. 任務7（資料補充）- 最後執行，需要時間

## 注意事項

- 所有優化需符合10位專家評分標準
- 文案需自然，不像是AI生成
- 所有功能需通過測試
- 保持代碼品質和一致性
最後要檢查任何語法錯誤 遵循 `ERROR_PREVENTION_GUIDE.md`
- 若是現在有類似或者重復到的就請優化 加強
-

### To-dos

- [ ] 建立ngrok預覽工作流（文件、腳本、說明）
- [ ] 完成後台圖片管理25%功能（列表、上傳、預覽、刪除）
- [ ] 完成後台會員管理25%功能（列表、搜尋、詳情）
- [ ] 完成後台詢價單管理25%功能（列表、狀態、詳情）
- [ ] 完成後台數據分析25%功能（統計卡片、圖表、匯出）
- [ ] 修正Footer後台登入連結樣式
- [ ] 為所有酒款生成詳細文案介紹（使用AI API）
- [ ] 確保酒款詳細頁面酒莊連結可點擊
- [ ] 為所有酒莊生成詳細文案介紹（使用AI API）
- [ ] 確保酒莊詳細頁面顯示真實官網鏈接
- [ ] 為關於ProWine頁面補充高清照片
- [ ] 優化關於ProWine頁面文案
- [ ] 品酩學堂頁面桌機版10項優化
- [ ] 品酩學堂頁面手機版10項優化
- [ ] 聯絡我們頁面桌機版10項優化
- [ ] 聯絡我們頁面手機版10項優化
- [ ] 全站手機版本10項優化
- [ ] 讀取MANUS_WINE_LIST並補充LOGO、文案、PRICE、圖片